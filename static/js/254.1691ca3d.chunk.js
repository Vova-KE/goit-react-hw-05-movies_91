"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[254],{254:function(t,n,e){e.r(n),e.d(n,{default:function(){return p}});var r=e(439),c=e(791),u=e(87),a=e(689),o=e(38),i="style_form__rIvRf",s="style_input__mXnjV",f=e(184);function p(){var t,n,e=(0,c.useState)([]),p=(0,r.Z)(e,2),l=p[0],h=p[1],v=(0,u.lr)(),m=(0,r.Z)(v,2),d=m[0],y=m[1],x=(0,c.useState)(null!==(t=d.get("query"))&&void 0!==t?t:""),w=(0,r.Z)(x,2),_=w[0],g=w[1],k=(0,a.TH)(),b=null!==(n=d.get("query"))&&void 0!==n?n:"";(0,c.useEffect)((function(){b&&(0,o.Ai)(b).then((function(t){if(!t.total_results)return alert("Sorry we don't found ".concat(b));h(t.results)})).catch((function(t){return console.log(t)}))}),[b]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===_.trim())return alert("You try found empty string");y({query:_})},className:i,children:[(0,f.jsx)("input",{type:"text",value:_,onChange:function(t){g(t.target.value)},className:s}),(0,f.jsx)("button",{type:"submit",children:"Search"})]}),(0,f.jsx)("ul",{children:l.map((function(t){var n=t.original_title,e=t.id;return(0,f.jsx)("li",{children:(0,f.jsx)(u.rU,{to:"/movies/".concat(e),state:{from:k},children:n})},e)}))})]})}},38:function(t,n,e){function r(t,n,e,r,c,u,a){try{var o=t[u](a),i=o.value}catch(s){return void e(s)}o.done?n(i):Promise.resolve(i).then(r,c)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(c,u){var a=t.apply(n,e);function o(t){r(a,c,u,o,i,"next",t)}function i(t){r(a,c,u,o,i,"throw",t)}o(void 0)}))}}e.d(n,{_n:function(){return o},PQ:function(){return m},Y5:function(){return h},Bt:function(){return y},Ai:function(){return w},Tg:function(){return p}});var u=e(757),a=e.n(u),o="https://image.tmdb.org/t/p/w500",i="https://api.themoviedb.org/",s="198c371ef9761c2b05114fb18e86d2f5",f=new URLSearchParams({language:"en-US"});function p(){return l.apply(this,arguments)}function l(){return(l=c(a().mark((function t(){var n,e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(i,"3/trending/movie/day?api_key=").concat(s));case 2:return n=t.sent,t.next=5,n.json();case 5:return e=t.sent,t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return v.apply(this,arguments)}function v(){return(v=c(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(i,"3/movie/").concat(n,"?api_key=").concat(s,"&").concat(f));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return d.apply(this,arguments)}function d(){return(d=c(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(i,"3/movie/").concat(n,"/credits?api_key=").concat(s,"&").concat(f));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){return x.apply(this,arguments)}function x(){return(x=c(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(i,"3/movie/").concat(n,"/reviews?api_key=").concat(s,"&").concat(f,"&page=1"));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return _.apply(this,arguments)}function _(){return(_=c(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(i,"3/search/movie?api_key=").concat(s,"&").concat(f,"&query=").concat(n,"&page=1&include_adult=false"));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=254.1691ca3d.chunk.js.map