{"version":3,"file":"static/js/309.d9552798.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/style.module.css?d770","pages/MovieDetails/MovieDetails.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","service/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card_img\":\"style_card_img__Q0Qqq\",\"card\":\"style_card__bE1f1\",\"container\":\"style_container__pWUvW\"};","import { fetchMovieDetails, BASE_URL } from '../../service/api';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { useEffect, useState, Suspense } from 'react';\nimport style from './style.module.css';\nimport image from '../../images/defaultImage.jpg';\n\nexport default function MovieDetails() {\n  const [info, setInfo] = useState('');\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    fetchMovieDetails(movieId).then(info => {\n      setInfo(info);\n    });\n  }, [movieId]);\n\n  const getGenres = () => {\n    if (info === '') {\n      return;\n    }\n    return info.genres.map(g => g.name).join(' ');\n  };\n\n  const { poster_path, title, original_title, vote_average, overview } = info;\n  const location = useLocation();\n  const cameBack = location.state?.from ?? '/';\n  return (\n    <div>\n      <div className={style.container}>\n        <Link to={cameBack}>Go back</Link>\n\n        <div className={style.card}>\n          <img\n            src={poster_path ? BASE_URL + poster_path : image}\n            alt={title}\n            className={style.card_img}\n          />\n\n          <div>\n            <h1>{original_title}</h1>\n            <p>User Score: {vote_average}</p>\n            <h2>Overview</h2>\n            <p>{overview}</p>\n            <h3>Genres</h3>\n            <p>{getGenres()}</p>\n          </div>\n        </div>\n      </div>\n      {/* <p className={style.movie_add_info}>Additional information</p> */}\n      <ul>\n        <li>\n          <Link to=\"cast\" state={{ from: cameBack }}>\n            Cast\n          </Link>\n        </li>\n        <li>\n          <Link to=\"reviews\" state={{ from: cameBack }}>\n            Reviews\n          </Link>\n        </li>\n      </ul>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export const BASE_URL = 'https://image.tmdb.org/t/p/w500';\nconst URL = 'https://api.themoviedb.org/';\nconst API_KEY = '198c371ef9761c2b05114fb18e86d2f5';\nconst searchParams = new URLSearchParams({\n  language: 'en-US',\n});\n\nexport async function fetchTrending() {\n  const res = await fetch(`${URL}3/trending/movie/day?api_key=${API_KEY}`);\n  const info = await res.json();\n  return info;\n}\n\nexport async function fetchMovieDetails(id) {\n  const res = await fetch(\n    `${URL}3/movie/${id}?api_key=${API_KEY}&${searchParams}`\n  );\n  const info = await res.json();\n  return info;\n}\n\nexport async function fetchMovieActors(id) {\n  const res = await fetch(\n    `${URL}3/movie/${id}/credits?api_key=${API_KEY}&${searchParams}`\n  );\n  const info = await res.json();\n  return info;\n}\n\nexport async function fetchReviews(id) {\n  const res = await fetch(\n    `${URL}3/movie/${id}/reviews?api_key=${API_KEY}&${searchParams}&page=1`\n  );\n  const info = await res.json();\n  return info;\n}\n\nexport async function fetchSearchMovie(value) {\n  const res = await fetch(\n    `${URL}3/search/movie?api_key=${API_KEY}&${searchParams}&query=${value}&page=1&include_adult=false`\n  );\n  const info = await res.json();\n  return info;\n}\n"],"names":["MovieDetails","_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","info","setInfo","movieId","useParams","useEffect","fetchMovieDetails","then","poster_path","title","original_title","vote_average","overview","cameBack","useLocation","state","from","_jsxs","children","className","style","_jsx","Link","to","src","BASE_URL","image","alt","genres","map","g","name","join","getGenres","Suspense","fallback","Outlet","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","value","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","URL","API_KEY","searchParams","URLSearchParams","language","fetchTrending","_fetchTrending","_regeneratorRuntime","_callee","res","_context","prev","next","fetch","concat","sent","json","abrupt","stop","_x","_fetchMovieDetails","_callee2","id","_context2","fetchMovieActors","_x2","_fetchMovieActors","_callee3","_context3","fetchReviews","_x3","_fetchReviews","_callee4","_context4","fetchSearchMovie","_x4","_fetchSearchMovie","_callee5","_context5"],"sourceRoot":""}